{% extends 'base.html' %}
{% block content %}
<div class="split-layout">
    <div class="split-left">
        <h2>LibroLink: Your School Library Hub</h2>
        <p>LibroLink is your gateway to the school's entire collection of academic and recreational resources.</p>
        <p>Our mission is to support student learning and research by making book borrowing simple, fast, and organized. Track your borrowed items, see your history, and find the resources you need for success.</p>
        <p><strong>Key Features:</strong></p>
        <ul>
            <li>Real-time availability status</li>
            <li>Easy 7-day borrowing period</li>
            <li>Automated penalty calculation</li>
            <li>Comprehensive history tracking</li>
        </ul>
        <p>Please select your role to log in.</p>
    </div>

    <div class="split-right centered-content">
        <h2>Member Login</h2>

        <div style="margin-bottom: 20px;">
            <button id="show-student" class="tab-button active" onclick="showForm('student-form', 'show-student')">Student</button>
            <button id="show-librarian" class="tab-button" onclick="showForm('librarian-form', 'show-librarian')">Librarian</button>
        </div>

        <form method="POST" id="student-form" class="login-form" style="max-width:360px;">
            <input type="hidden" name="login_type" value="student">
            <label>Student ID</label>
            <input name="student_number" required>
            <label>Last Name</label>
            <input name="lastname" required>
            <button type="submit">Student Login</button>
        </form>

        <form method="POST" id="librarian-form" class="login-form hidden" style="max-width:360px;">
            <input type="hidden" name="login_type" value="librarian">
            <label>Username</label>
            <input name="username" required>
            <label>Password</label>
            <input type="password" name="password" required>
            <button type="submit">Librarian Login</button>
        </form>

        <p style="margin-top:10px;">
            <a href="{{ url_for('register') }}">Librarian Registration</a> â€¢
            <a href="{{ url_for('index') }}">Back to Home</a>
        </p>
    </div>
</div>

<style>
    .tab-button {
        padding: 10px 15px;
        border: 1px solid #ccc;
        background-color: #f4f4f4;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.2s;
    }
    .tab-button.active {
        background-color: #007bff;
        color: white;
        border-color: #007bff;
    }
    .login-form.hidden {
        display: none;
    }
</style>

<script>
    function showForm(formId, buttonId) {
        document.querySelectorAll('.login-form').forEach(form => {
            form.classList.add('hidden');
        });
        document.querySelectorAll('.tab-button').forEach(button => {
            button.classList.remove('active');
        });

        document.getElementById(formId).classList.remove('hidden');
        document.getElementById(buttonId).classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
        const studentButton = document.getElementById('show-student');
        if (studentButton) {
            showForm('student-form', 'show-student');
        }
    });
</script>

{% endblock %}